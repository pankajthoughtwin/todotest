(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9640:function(e,t,r){Promise.resolve().then(r.bind(r,6013)),Promise.resolve().then(r.bind(r,5730))},6013:function(e,t,r){"use strict";r.d(t,{default:function(){return n}});var a=r(7437),s=r(2265);let o=(0,r(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function n(){let[e,t]=(0,s.useState)(""),[r,n]=(0,s.useState)(""),[l,i]=(0,s.useState)("MEDIUM"),[c,d]=(0,s.useState)(!1),u=async a=>{if(a.preventDefault(),e.trim()){d(!0);try{let a={title:e.trim(),description:r.trim()||void 0,priority:l};(await fetch("/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok&&(t(""),n(""),i("MEDIUM"),window.location.reload())}catch(e){console.error("Error creating todo:",e)}finally{d(!1)}}};return(0,a.jsxs)("div",{className:"bg-white rounded-lg border p-6 shadow-sm",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Todo"}),(0,a.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"What needs to be done?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})}),(0,a.jsx)("div",{children:(0,a.jsx)("textarea",{value:r,onChange:e=>n(e.target.value),placeholder:"Description (optional)",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),(0,a.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"LOW",children:"Low"}),(0,a.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,a.jsx)("option",{value:"HIGH",children:"High"})]})]}),(0,a.jsx)("div",{className:"flex-1 flex justify-end",children:(0,a.jsxs)("button",{type:"submit",disabled:c||!e.trim(),className:"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(o,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:c?"Adding...":"Add Todo"})]})})]})]})]})}},5730:function(e,t,r){"use strict";r.d(t,{default:function(){return p}});var a=r(7437),s=r(2265),o=r(9205);let n=(0,o.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),l=(0,o.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),i=(0,o.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),c=(0,o.Z)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),d=(0,o.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function u(e){let{todo:t,onUpdate:r,onDelete:o}=e,[u,h]=(0,s.useState)(!1),[p,x]=(0,s.useState)(t.title),[m,y]=(0,s.useState)(t.description||""),[f,g]=(0,s.useState)(t.priority),[b,j]=(0,s.useState)(!1),v=async()=>{j(!0);try{let e=await fetch("/api/todos/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!t.completed})});if(e.ok){let t=await e.json();r(t)}}catch(e){console.error("Error updating todo:",e)}finally{j(!1)}},N=async()=>{if(p.trim()){j(!0);try{let e={title:p.trim(),description:m.trim()||null,priority:f},a=await fetch("/api/todos/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok){let e=await a.json();r(e),h(!1)}}catch(e){console.error("Error updating todo:",e)}finally{j(!1)}}},w=async()=>{if(confirm("Are you sure you want to delete this todo?")){j(!0);try{(await fetch("/api/todos/".concat(t.id),{method:"DELETE"})).ok&&o(t.id)}catch(e){console.error("Error deleting todo:",e)}finally{j(!1)}}};return(0,a.jsx)("div",{className:"bg-white rounded-lg border p-4 shadow-sm ".concat(t.completed?"opacity-75":""),children:u?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("input",{type:"text",value:p,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Todo title"}),(0,a.jsx)("textarea",{value:m,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description (optional)",rows:2}),(0,a.jsxs)("select",{value:f,onChange:e=>g(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"LOW",children:"Low Priority"}),(0,a.jsx)("option",{value:"MEDIUM",children:"Medium Priority"}),(0,a.jsx)("option",{value:"HIGH",children:"High Priority"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:N,disabled:b||!p.trim(),className:"btn-primary flex items-center space-x-1",children:[(0,a.jsx)(n,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Save"})]}),(0,a.jsxs)("button",{onClick:()=>{h(!1),x(t.title),y(t.description||""),g(t.priority)},className:"btn-secondary flex items-center space-x-1",children:[(0,a.jsx)(l,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Cancel"})]})]})]}):(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("button",{onClick:v,disabled:b,className:"mt-1 flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ".concat(t.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-green-500"),children:t.completed&&(0,a.jsx)(i,{className:"h-3 w-3"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-medium ".concat(t.completed?"line-through text-gray-500":"text-gray-900"),children:t.title}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat((e=>{switch(e){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-yellow-100 text-yellow-800";case"LOW":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(t.priority)),children:t.priority})]}),t.description&&(0,a.jsx)("p",{className:"text-sm ".concat(t.completed?"line-through text-gray-400":"text-gray-600"),children:t.description}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Created ",new Date(t.createdAt).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("button",{onClick:()=>h(!0),disabled:b,className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",children:(0,a.jsx)(c,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:w,disabled:b,className:"p-2 text-gray-400 hover:text-red-600 transition-colors",children:(0,a.jsx)(d,{className:"h-4 w-4"})})]})]})})}let h=(0,o.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function p(){let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)(!0),[n,l]=(0,s.useState)("all");(0,s.useEffect)(()=>{i()},[]);let i=async()=>{try{let e=await fetch("/api/todos");if(e.ok){let r=await e.json();t(r)}}catch(e){console.error("Error fetching todos:",e)}finally{o(!1)}},c=r=>{t(e.map(e=>e.id===r.id?r:e))},d=r=>{t(e.filter(e=>e.id!==r))},p=e.filter(e=>"active"===n?!e.completed:"completed"!==n||e.completed);return r?(0,a.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,a.jsx)(h,{className:"h-8 w-8 animate-spin text-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:["all","active","completed"].map(t=>(0,a.jsxs)("button",{onClick:()=>l(t),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat(n===t?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[t.charAt(0).toUpperCase()+t.slice(1),(0,a.jsx)("span",{className:"ml-2 text-xs bg-gray-200 px-2 py-1 rounded-full",children:"all"===t?e.length:"active"===t?e.filter(e=>!e.completed).length:e.filter(e=>e.completed).length})]},t))}),(0,a.jsx)("div",{className:"space-y-3",children:0===p.length?(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-gray-500 text-lg",children:"all"===n?"No todos yet. Add one above!":"No ".concat(n," todos.")})}):p.map(e=>(0,a.jsx)(u,{todo:e,onUpdate:c,onDelete:d},e.id))})]})}},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:r,strokeWidth:i?24*Number(l)/Number(s):l,className:o("lucide",c),...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:i,...c}=r;return(0,a.createElement)(l,{ref:n,iconNode:t,className:o("lucide-".concat(s(e)),i),...c})});return r.displayName="".concat(e),r}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=9640)}),_N_E=e.O()}]);